lowdefy: 3.23.2
name: Lowdefy starter
app: { html: { appendHead: <script type="module" src="/public/crypto.js"></script> } }
types:
  FileReader:
    url: https://cdn.jsdelivr.net/gh/komcunbinquesgysbuf/lowdefy-blocks@1.0.3/dist/meta/FileReader.json
connections:
  - id: mailer
    type: SendGridMail
    properties: { apiKey: { _secret: SENDGRID_API_KEY }, from: { _secret: SENDGRID_FROM_ADDRESS } }
  - id: verification_api
    type: AxiosHttp
    properties: { baseURL: { _secret: VERIFICATION_API } }
menus:
  - id: default
    links:
      - id: new_agreement
        type: MenuLink
        pageId: new_agreement
        properties: { title: New Agreement, icon: StarOutlined }
pages:
  - _ref: new_agreement.yaml
  - _ref: confirm.yaml
  - _ref: profile.yaml
  - id: confirmation_sent
    type: PageSiderMenu
    properties: { title: You've got mail, _ref: logo.yaml }
    areas:
      header:
        _ref: header.yaml
      content:
        blocks:
          - id: success_msg
            type: Result
            properties:
              icon: MailOutlined
              status: success
              subTitle: Please check your inbox and follow the instructions given in the email to continue.
              title: The email was sent
  - id: token_error
    type: PageSiderMenu
    properties: { title: Invalid token, _ref: logo.yaml }
    areas:
      header:
        _ref: header.yaml
      content:
        blocks:
          - id: error_msg
            type: Result
            properties:
              icon: ExceptionOutlined
              status: error
              subTitle: Something must have gone wrong with the link you followed.
              title: Invalid token
            areas:
              extra:
                blocks:
                  - id: home_button
                    type: Button
                    properties:
                      icon: HomeOutlined
                      title: Go to home page
                      type: default
                    events:
                      onClick:
                        - id: link_home
                          type: Link
                          params:
                            home: true
